## 10.1. Сетевая и узловая часть IP-адреса. Структура IPv4-адресов. Маска подсети IPv4. Сетевой адрес, адрес узла и широковещательный адрес сети IPv4.

Адрес представляется четырьмя десятичными числами, разделенными точками. Каждое из этих чисел не может превышать 255 и представляет один байт 4-байтного IP-адреса\

### Сетевая и узловая часть IP-адреса 
---
Адрес IPv4 является иерархическим и состоит из: z
- Сетевой части (Network Portion) (Идентифицирует сеть, в которой находятся все уникальные адреса узлов)
- Узловой части (Host Portion) (Идентифицирует узлы внутри сети)

- Классовую структуру IPv4 сетевого адреса, что использовалась на начальном этапе развития сети.  
    В ней адресное пространство было разделено на несколько логических групп и в каждой группе отводилось разное соотношение хостов и подсетей. Эти группы носят названия классов сетей и пронумерованы латинскими буквами: A, B, C, D и E. Деление основывается на старших битах адреса. Т.е. структура определялась величиной сетевой части адреса. 
    

- Адреса класса A предназначены для использования в больших сетях общего пользования. Они допускают большое количество номеров узлов.
    
- Адреса класса B используются в сетях среднего размера, например, сетях университетов и крупных компаний.
    
- Адреса класса C используются в сетях с небольшим числом компьютеров.
    
- Адреса класса D используются при обращениях к группам машин. 
    

Адреса класса E зарезервированы на будущее.  
**
Но это неэффективно, намного эффективнее делать адреса внеклассовыми, то есть граница между адресом узла и сети определяется с точностью до бита. Может быть создана сеть, с сетью 30, а узлом 2. Это позволяет делить сети на подсети, которые никогда не пересекутся.
При этом структура адреса будет определяться конкретно маской сети, биты маски соответствующие адресу сети должны быть 1, а для узлов 0. Таким образом, мы определили внеклассовую сесть всего 2 числами, адресом и маской адреса

**Длина сетевого префикса — число, которое равно количеству бит, выделенных под сетевую часть адреса, т.е. количество единиц в маске сети.  

Зарезервированные адреса 

Адрес сети: состоит из номера сети в старшем 10 тичном разряде, с остальными нулями

Локальный 
Состоит из нулевых байтов 

BroadCast 
делится на 2 типа
- адреса типа Limited Broadcast - пакет адресован ВСЕЙ сети 
- 255.255.255.255
- адреса типа Directed Broadcast - пакет адресован всем УЗЛАМ опредленной сети 
- номер сети.255.255.255
loopBack 
Адрес типа loop back (петля) представляет собой виртуальный адрес, который присваивается любому интерфейсу, сконфигурированному для обработки пакетов протокола IP.
1 в младшем бите

## 10.2. Публичные и частные IPv4-адреса. Особенности внедрения схем адресации IPv4 с учетом имеющихся требований к разделению на подсети с помощью маски подсети переменной длины (VLSM).


**
### Публичные и частные IPv4-адреса
---

- Публичные IPv4-адреса предназначены для использования в Интернете. Они уникальны по всему миру и назначаются централизованно организациями, такими как IANA (Internet Assigned Numbers Authority) и региональными интернет-регистраторами (RIR).  
    Примеры:  
    8.8.8.8 (Google DNS)  
    17.172.224.47 (Apple).
    
- Частные IPv4-адреса предназначены для использования внутри локальных сетей (LAN). Они могут использоваться повторно в разных локальных сетях, поскольку не требуют уникальности за пределами локальной сети. Частные адреса определены в следующих диапазонах согласно стандарту RFC 1918:  
    10.0.0.0 - 10.255.255.255 (10.0.0.0/8)  
    172.16.0.0 - 172.31.255.255 (172.16.0.0/12)  
    192.168.0.0 - 192.168.255.255 (192.168.0.0/16)
    


### VLSM
---

Особенности внедрения схем адресации IPv4 с учетом имеющихся требований к разделению на подсети с помощью маски подсети переменной длины (VLSM).

Схема разбиения сети на подсети  с масками произвольной длины (Variable Length Subnet Masks - VLSM) предназначена для того, чтобы избежать неэффективного использования пространства IP-адресов. При внедрении VLSM сеть разделяется на подсети, а затем каждая подсеть разделяется снова. Этот процесс может повторяться несколько раз и позволяет создавать подсети различных размеров на основе количества узлов, необходимых для каждого сегмента сети

Т.е. используя VLSM можно разделить сеть на подсети с различной длинной маски, т.е. на подсети различных размеров.


Имеется сеть  
192.168.1.0/24 (11000000.10101000.00000001.00000000)  
С маской  
255.255.255.0 (11111111.11111111.11111111.00000000)  
Как мы видим, на дальнейшее разделение на подсети нам доступен последний октет.


- Не используя VLSM (Используя маску одинаковой длины), мы можем разделить эту подсеть на несколько равных, например, на 4. Мы используем 2 бита под новую маску:  
    255.255.255.192 (11111111.11111111.11111111.11000000)  
    В результате чего выйдут равные по размеру четыре подсети:  
    192.168.1.0/26 (11000000.10101000.00000001.00000000)  
    192.168.1.64/26 (11000000.10101000.00000001.01000000)  
    192.168.1.128/26 (11000000.10101000.00000001.10000000)  
    192.168.1.192/26 (11000000.10101000.00000001.11000000)  
    С одинаковой маской:  
    255.255.255.192 (11111111.11111111.11111111.11000000)  
    Данный подход крайне неэффективен, если у нас есть необходимость в подсетях разного размера.
    
- Используя VLSM (Используя маски различной длины), мы можем разделить эту подсеть на несколько разных, например используя 1 бит под новую маску:  
    255.255.255.128 (11111111.11111111.11111111.10000000)  
    Мы получим 2 новых сети:  
    192.168.1.0/25     (11000000.10101000.00000001.00000000)  
    192.168.1.128/25 (11000000.10101000.00000001.10000000)  
    Далее мы можем, увеличив маску на ещё 1 бит:  
    255.255.255.192  (11111111.11111111.11111111.11000000)  
    Разделить вторую подсеть на ещё 2 меньшего размера:  
    192.168.1.128/26 (11000000.10101000.00000001.10000000)  
    192.168.1.192/26 (11000000.10101000.00000001.11000000)  
    Итого вышло три подсети:  
    192.168.1.0/25     (11000000.10101000.00000001.00000000)  
    192.168.1.128/26 (11000000.10101000.00000001.10000000)  
    192.168.1.192/26 (11000000.10101000.00000001.11000000)  
    С маской для большой:  
    255.255.255.128 (11111111.11111111.11111111.10000000)  
    и двух малых:  
    255.255.255.192 (11111111.11111111.11111111.11000000)
    

  

Внедрение схем адресации IPv4 с использованием Variable Length Subnet Mask (VLSM) требует детального планирования и понимания особенностей этого метода. VLSM позволяет более эффективно использовать адресное пространство, создавая подсети разного размера в зависимости от потребностей. Вот ключевые особенности и шаги для внедрения VLSM:

Определение размера подсетей

- Наименьшая возможная подсеть: Подсчитайте количество хостов в самой маленькой подсети, это определит наибольшую возможную маску.
    
- Подсети для каждой группы: Определите маски для каждой группы устройств. Например, если у вас есть подсеть для 50 хостов и другая для 25, выберите соответствующие маски (например, /26 для 64 адресов и /27 для 32 адресов).
    

Создание подсетей

- Начните с самой большой подсети и продвигайтесь к самой маленькой. Это поможет избежать нехватки адресов для крупных подсетей.  
    Пример:  
    192.168.0.0/26 (64 адреса) для подсети с 50 устройствами.  
    192.168.0.64/27 (32 адреса) для подсети с 25 устройствами.  
    Оставшиеся адреса можно использовать для других подсетей.
    

**