## 14.1. Популярные протоколы уровня прилoжений. Особенности и примеры реализации модели «клиент-сервер». Особенности реализации приложений в одноранговых сетях.  

Начнем с того, что на уровне приложений оконечный пользователь принимает, отправляет и хранит свои данные. Протоколы уровня приложения занимаются этим 

Самые популярные протоколы: 
---
DNS
---

Domain Name Service (Служба доменных имен)
Преобразует имена доменов в IP-адреса и обратно
[![Pasted-image-20240613005012.png](https://i.postimg.cc/6q91ZkYc/Pasted-image-20240613005012.png)](https://postimg.cc/PpR4sRGv)

HTTP
---

Hypertext Transfer Protocol (протокол передачи гипертекстовых документов)

Обмен текстовыми, графическими изображениями, звуковыми, видео и мультимедийными файлами

DHCP
---
Dynamic Host Configuration Protocol Протокол динамической конфигурации узла

Динамически назначает IP-адреса рабочим станциям для выхода в Internet

## Клиент-сервер

---

• Считается, что процессы модели «клиент—сервер» происходят на уровне приложений. 
• В модели типа «клиент-сервер» устройство, запрашивающее информацию, называется клиентом, а устройство, которое отвечает на данный запрос, — сервером. 
• Протоколы уровня приложений описывают формат запросов и ответов между клиентами и серверами
Пример: 
	У нас на хостинге лежит html файл с нашим сайтом, когда мы переходим по нему в браузере, браузер совершает следующие действия: 
	1) С помощью DNS сервера преобразовывается имя домена в IP адрес
	2) Браузером формируется GET запрос по HTTP на сервере и запрашивает он  index.html
	3) В ответе сервера содержится HTML-код страницы 
	4) Браузер декодирует HTML-код и отображает страницу

## Одноранговые сети (P2P Peer-toPeer)
---
	• В одноранговой (P2P) сети два компьютера (или более двух) подключаются между собой по сети и могут открывать доступ к своим ресурсам (например, к принтерам и файлам) без использования выделенного сервера. 
	• Каждое подключенное к сети конечное устройство (одноранговый узел) может выполнять функции как сервера, так и клиента. 
	• Один компьютер может играть роль сервера для одной операции, одновременно выступая в роли клиента для других операций. Роли клиента и сервера устанавливаются в зависимости от запроса.

Некоторые приложения P2P используют гибридную систему, где каждый узел обращается к серверу индексации, чтобы получить местоположение ресурса, хранящегося на другом узле.
Наиболее распространенные P2P-сети: 
• BitTorrent
• Прямое подключение 
• eDonkey 
• Freenet
## 14.2. Назначение и основные особенности реализации протоколов HTTP, DNS и DHCP.


### DNS
___
Транспортный порт протокола 53, использует TCP/UDP
DNS делится 
![[Pasted image 20240613142258.png]]
Доменное имя состоит из нескольких частей
Структура: 
	- сам интернет ресурс(www.urfu.ru)
	- Имя домена второго уровня или SLD
	- Имя домена верхнего уровня
	- Корневой уровень, файлы верхнего уровня имен DNS ru, edu и тд
#### Разделение DNS серверов
---
Уполномоченные
- Уполномоченный DNS сервер управляет привязкой имен к IP адресам только в пределах небольшой части зоны DNS
Рекурсивные 
- Это такие DNS серверы, с которыми взаимодействуют компьютеры пользователей. Такие DNS серверы обычно близко расположены и кэшируют данные DNS, чтобы ускорить ответы на будущие запросы  
Также есть корневой сервер, сервер TLD. 
когда пользователь переходит на домен, рекурсивный DNS сервер прогоняет по частям доменное имя по серверам, предназначенным для обработки соответствующих частей имени

Запрос  DNS обычно формируется автоматически, либо с помощью спец приложений(ns lookup)
Содержит адреса и порты отправления назначения, а также имя ресурса, к которому было обращение


Ответ всё то же самое, но его формирует уполномоченный или рекурсивный сервер. + доп информация об обработке запроса 

### HTTP
---
Протокол HTTP позволяет получать доступ и управлять содержанием документов, которые размещены на WWW-серверах. 
	❖ Протокол HTTP построен с использованием схемы «запрос/ответ»: 
	❖ Клиент устанавливает соединение с сервером и отправляет запрос, котором указывает метод обращения, адрес ресурса и содержание запроса. 
	❖ Сервер HTTP отвечает строкой состояния, которая содержит: код обработки запроса или код ошибки и возвращаемую по запросу информацию
#### Запросы
---
	POST- создать
	DELETE- удалить
	PUT- заменить/обновить
	GET-получить
	PATCH- частично изменить 

#### Ошибки
---
200 - Успех
201 - Успех + формирование документы
400 - Ошибка внутри запроса 
403 - Отклонение сервером 
404 - Ресурс не найден
500 - внутренняя ошибка сервера 
503 - недоступность исполняющей службы


### DHCP
---
Протокол динамической конфигурации узла Dynamic Host Configuration Protocol (DHCP) применяется для назначения рабочим станциям адреса IP и других параметров, которые необходимы для организации информационного взаимодействия в локальной или глобальной сети. Сервер DHCP  выдает в аренду IP-адрес из пула адресов на ограниченный период времени по выбору сервера или до тех пор, пока у клиента есть необходимость в адресе. Срок аренды обычно составляет от 24 часов до недели или более.

PC формирует DHCP discover сообщение, чтобы получить атрибуты для взаимодействия в сети. Оно отправляется по броадкасту на канальном и сетевом уровне. 
Каждый DHCP сервер передает сообщение Offer в кадре Ethernet по MAC адресу пк, который формировал discover, с порта 68 в 67

PC формирует DHCP request, в котором принятый набор параметров.

DHCP сервер подтверждает начало аренды сообщением ACK опять же в PC-1

