## 9.1 Назначение и структура таблицы маршрутизации. Понятие метрики. Основные преимущества и недостатки статической и динамической маршрутизации.

### Назначение 
---
	Определение сетевого маршрута является основной задачей протоколов сетевого уровня. 
		❖ Сетевой маршрут - последовательность узлов и сетей, через которую должна пройти дейтаграмма для того, чтобы достичь узла назначения. 
		❖Маршрутизацией называется выполняемый для каждой дейтаграммы процесс определения текущего фрагмента маршрута передачи его по сети Internet
	В сети Internet используется принцип next hop routing (в отличие от endto-end).
	Во время обычного процесса маршрутизации, блок данных канального уровня, содержащий дейтаграмму, направляется узлу назначения напрямую, а в случае hop роутинга следующему маршрутизатору(next hop).(прямая и косвенная доставка). По факту, если роутеры настроены, дейтаграмма рано или поздно дойдет до нужной сети, путешествуя по узлам (хоп бай хоп). При каждом шаге TTL - 1. 
	И чтобы это всё работало нужно очень точно настроить таблицу маршрутизации 
	Таблица маршрутизации состоит из записей, каждая из которых включает следующие поля:
		❖ Адрес сети назначения; 
		❖ Маска сети (длина префикса);
	Во время  построения  маршрутной таблицы  могут быть  сформированы несколько маршрутов, ведущих в одну сеть.  Для того чтобы маршрутизатор мог выбрать один из них в качестве предпочтительного, он должен использовать метрику 

### Метрика
---
	Метрика — это обобщенная характеристика качества маршрута, используемая маршрутизаторами для выбора предпочтительного пути к сети назначения. Каждый алгоритм маршрутизации использует свой алгоритм расчета этой характеристики. Метрика может учитывать различные параметры:
		- Количество узлов (hop count): количество промежуточных маршрутизаторов до сети назначения.
		- Пропускная способность (bandwidth): ширина канала передачи данных.
		- Задержка (delay): время, необходимое для передачи данных по маршруту.
		- Надежность (reliability): стабильность и надежность канала.
		- Загруженность (load): текущая нагрузка на канал.
	    
### Статическая маршрутизация
---
	При использовании статической маршрутизации таблицы маршрутизации (ТМ) формируются администраторами узлов вручную. 
		❖ Для ускорения поиска маршрута записи в TM группируются в блоки и упорядочиваются по убыванию длины префикса. 
		❖ Узел, который используется в качестве next hop для дейтаграмм, адрес сети назначения которых не указан в таблице маршрутизации, называется шлюз по умолчанию (default gateway) — эта запись анализируется в последнюю очередь
	Преимущества:
		- Простота и контроль: администраторы полностью контролируют маршрутизацию, что делает её предсказуемой.
		- Безопасность: меньшая вероятность неправильной конфигурации и атак, так как таблицы маршрутизации не меняются автоматически.
		- Меньшие системные требования: нет необходимости в дополнительных ресурсах для выполнения алгоритмов маршрутизации
	Недостатки
		- Невозможность адаптации: маршруты фиксированные и не могут меняться в реальном времени при изменении сети.
		- Сложность управления: в больших сетях ручное обновление маршрутов занимает много ресурсов и повышает вероятность ошибок при маршрутизации.
	- 


### Динамическая маршрутизация
---
При использовании динамической маршрутизации формирование маршрутных таблиц производится маршрутизаторами автоматически в результате постоянного выполнения специального алгоритма маршрутизации. В процессе выполнения этого алгоритма маршрутизатор передает своим соседям   информацию об известных ему  маршрутах, получая от них взамен аналогичную информацию. После обработки полученной информации маршрутизатор строит заново или корректирует свою таблицу маршрутизации
Преимущества:
- Автоматическое обновление: маршрутизаторы автоматически обновляют таблицы маршрутизации, адаптируясь к изменениям в сети.
- Оптимизация маршрутов: постоянное обновление маршрутов обеспечивает их оптимальность, улучшая производительность сети.
- Отказоустойчивость: быстрая реакция на изменения и отказы в сети, обеспечивая устойчивую связь.
Недостатки:
- Сложность настройки: требует более сложной конфигурации и понимания алгоритмов маршрутизации.
- Затраты ресурсов: дополнительные системные ресурсы на обработку алгоритмов и обмен маршрутной информацией.

## 9.2. Особенности настройки активных интерфейсов и маршрутизации IPv4 и 6 на маршрутизаторе Cisco IOS.

Нужно зайти в привелегированный режим, 
	enable
Зайти в режим конфигурирования
	conf t 
Подключаемся к нужному интерефейсу 
	int "имя интерфейса"
Добавляем для маршрутизатора IPv4 адрес вместе с маской 
	ip address 'ip'  'maska', или указать маску как длинну префикса череp / 
Также нужно добавить IPv6 адрес
	ipv6 address 'ipV6'/длинна префикса 
Необходимо запустить командой no shut интерфейс
и наконец выйти из режима конфигурации интерфейса 
	exit
	
Можно проверить настройку командами

[![Pasted-image-20240613004931.png](https://i.postimg.cc/tgxfGts3/Pasted-image-20240613004931.png)](https://postimg.cc/v1GXWnLT)
