## Назначение и структура таблицы маршрутизации. Понятие метрики. Основные преимущества и недостатки статической и динамической маршрутизации.


Определение сетевого маршрута является основной задачей протоколов сетевого уровня. 
	❖ Сетевой маршрут - последовательность узлов и сетей, через которую должна пройти дейтаграмма для того, чтобы достичь узла назначения. 
	❖Маршрутизацией называется выполняемый для каждой дейтаграммы процесс определения текущего фрагмента маршрута передачи его по сети Internet
	
В сети Internet используется принцип next hop routing (в отличие от endto-end).
Во время обычного процесса маршрутизации, блок данных канального уровня, содержащий дейтаграмму, направляется узлу назначения напрямую, а в случае hop роутинга следующему маршрутизатору(next hop).(прямая и косвенная доставка). По факту, если роутеры настроены, дейтаграмма рано или поздно дойдет до нужной сети, путешествуя по узлам (хоп бай хоп). При каждом шаге TTL - 1. 
И чтобы это всё работало нужно очень точно настроить таблицу маршрутизации 

Во время  построения  маршрутной таблицы  могут быть  сформированы   несколько маршрутов, ведущих в одну сеть.  Для того чтобы маршрутизатор мог выбрать один из них в качестве предпочтительного, он должен использовать обобщенную характеристику качества маршрута – метрику (Metric). Каждый алгоритм маршрутизации использует свой  алгоритм расчета этой характеристики

статическая маршрутизация
---
При использовании статической маршрутизации таблицы маршрутизации (ТМ) формируются администраторами узлов вручную. ❖ Для ускорения поиска маршрута записи в TM группируются в блоки и упорядочиваются по убыванию длины префикса. ❖ Узел, который используется в качестве next hop для дейтаграмм, адрес сети назначения которых не указан в таблице маршрутизации, называется шлюз по умолчанию (default gateway) — эта запись анализируется в последнюю очередь

динамическая маршрутизация
---
При использовании динамической маршрутизации ТМ) формируются узлами-посредниками (маршрутизаторами) автоматически с использованием протоколов маршрутизации. ❖ Применяя протокол маршрутизации маршрутизаторы обмениваются сообщениями о состоянии сети, что позволяет динамически изменять маршруты в случае изменения этого состояния.

При использовании динамической маршрутизации формирование маршрутных таблиц производится маршрутизаторами автоматически в результате постоянного выполнения специального алгоритма маршрутизации. В процессе выполнения этого алгоритма маршрутизатор передает своим соседям   информацию об известных ему  маршрутах, получая от них взамен аналогичную информацию. После обработки полученной информации маршрутизатор строит заново или корректирует свою таблицу маршрутизации

существенным недостатком статического принципа определения маршрутов является отсутствие механизмов, которые могли бы обеспечить

- получение информации о новых сетях
- выбор наиболее эффективного маршрута в сети


9.2. Особенности настройки активных интерфейсов и маршрутизации IPv4 и 6 на маршрутизаторе Cisco IOS.

Нужно зайти в привелегированный режим, 
	enable
Зайти в режим конфигурирования
	conf t 
Подключаемся к нужному интерефейсу 
	int "имя интерфейса"
Добавляем для маршрутизатора IPv4 адрес вместе с маской 
	ip address 'ip'  'maska', или указать маску как длинну префикса череp / 
Также нужно добавить IPv6 адрес
	ipv6 address 'ipV6'/длинна префикса 
Необходимо запустить командой no shut интерфейс
и наконец выйти из режима конфигурации интерфейса 
	exit
	
Можно проверить настройку командами

[![Pasted-image-20240613004931.png](https://i.postimg.cc/tgxfGts3/Pasted-image-20240613004931.png)](https://postimg.cc/v1GXWnLT)
Проверка интерфейсов 
